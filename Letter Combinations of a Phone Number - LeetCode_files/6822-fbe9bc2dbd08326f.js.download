(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6822],{41929:t=>{"use strict";t.exports=function(t){return"number"==typeof t?t-t==0:"string"==typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t))}},17159:(t,e,n)=>{"use strict";var i=n(48287).hp;let r={},s=r.hasOwnProperty,o=(t,e)=>{for(let n in t)s.call(t,n)&&e(n,t[n])},a=(t,e)=>(e&&o(e,(e,n)=>{t[e]=n}),t),l=(t,e)=>{let n=t.length,i=-1;for(;++i<n;)e(t[i])},u=t=>"\\u"+("0000"+t).slice(-4),c=(t,e)=>{let n=t.toString(16);return e?n:n.toUpperCase()},h=r.toString,f=Array.isArray,d=t=>"function"==typeof i&&i.isBuffer(t),p=t=>"[object Object]"==h.call(t),m=t=>"string"==typeof t||"[object String]"==h.call(t),v=t=>"number"==typeof t||"[object Number]"==h.call(t),g=t=>"function"==typeof t,y=t=>"[object Map]"==h.call(t),b=t=>"[object Set]"==h.call(t),_={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},x=/[\\\b\f\n\r\t]/,w=/[0-9]/,M=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,k=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,S=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,C=(t,e)=>{let n;let i=()=>{A=D,++e.indentLevel,D=e.indent.repeat(e.indentLevel)},r={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},s=e&&e.json;s&&(r.quotes="double",r.wrap=!0),"single"!=(e=a(r,e)).quotes&&"double"!=e.quotes&&"backtick"!=e.quotes&&(e.quotes="single");let h="double"==e.quotes?'"':"backtick"==e.quotes?"`":"'",E=e.compact,P=e.lowercaseHex,D=e.indent.repeat(e.indentLevel),A="",I=e.__inline1__,T=e.__inline2__,j=E?"":"\n",O=!0,$="binary"==e.numbers,B="octal"==e.numbers,L="decimal"==e.numbers,z="hexadecimal"==e.numbers;if(s&&t&&g(t.toJSON)&&(t=t.toJSON()),!m(t)){if(y(t))return 0==t.size?"new Map()":(E||(e.__inline1__=!0,e.__inline2__=!1),"new Map("+C(Array.from(t),e)+")");if(b(t))return 0==t.size?"new Set()":"new Set("+C(Array.from(t),e)+")";if(d(t))return 0==t.length?"Buffer.from([])":"Buffer.from("+C(Array.from(t),e)+")";if(f(t))return(n=[],e.wrap=!0,I&&(e.__inline1__=!1,e.__inline2__=!0),T||i(),l(t,t=>{O=!1,T&&(e.__inline2__=!1),n.push((E||T?"":D)+C(t,e))}),O)?"[]":T?"["+n.join(", ")+"]":"["+j+n.join(","+j)+j+(E?"":A)+"]";if(v(t)){if(s)return JSON.stringify(t);if(L)return String(t);if(z){let e=t.toString(16);return P||(e=e.toUpperCase()),"0x"+e}if($)return"0b"+t.toString(2);if(B)return"0o"+t.toString(8)}else if(p(t))return(n=[],e.wrap=!0,i(),o(t,(t,i)=>{O=!1,n.push((E?"":D)+C(t,e)+":"+(E?"":" ")+C(i,e))}),O)?"{}":"{"+j+n.join(","+j)+j+(E?"":A)+"}";else return s?JSON.stringify(t)||"null":String(t)}let N=e.escapeEverything?k:S;return n=t.replace(N,(t,n,i,r,o,a)=>{if(n){if(e.minimal)return n;let t=n.charCodeAt(0),i=n.charCodeAt(1);return e.es6?"\\u{"+c((t-55296)*1024+i-56320+65536,P)+"}":u(c(t,P))+u(c(i,P))}if(i)return u(c(i.charCodeAt(0),P));if("\0"==t&&!s&&!w.test(a.charAt(o+1)))return"\\0";if(r)return r==h||e.escapeEverything?"\\"+r:r;if(x.test(t))return _[t];if(e.minimal&&!M.test(t))return t;let l=c(t.charCodeAt(0),P);return s||l.length>2?u(l):"\\x"+("00"+l).slice(-2)}),"`"==h&&(n=n.replace(/\$\{/g,"\\${")),e.isScriptContext&&(n=n.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,s?"\\u003C!--":"\\x3C!--")),e.wrap&&(n=h+n+h),n};C.version="3.0.2",t.exports=C},98838:()=>{String.fromCodePoint||function(){var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),e=String.fromCharCode,n=Math.floor,i=function(t){var i,r,s=[],o=-1,a=arguments.length;if(!a)return"";for(var l="";++o<a;){var u=Number(arguments[o]);if(!isFinite(u)||u<0||u>1114111||n(u)!=u)throw RangeError("Invalid code point: "+u);u<=65535?s.push(u):(u-=65536,i=(u>>10)+55296,r=u%1024+56320,s.push(i,r)),(o+1==a||s.length>16384)&&(l+=e.apply(null,s),s.length=0)}return l};t?t(String,"fromCodePoint",{value:i,configurable:!0,writable:!0}):String.fromCodePoint=i}()},84424:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(98838);var i=/\\(u\{([0-9A-Fa-f]+)\}|u([0-9A-Fa-f]{4})|x([0-9A-Fa-f]{2})|([1-7][0-7]{0,2}|[0-7]{2,3})|(['"tbrnfv0\\]))|\\U([0-9A-Fa-f]{8})/g,r={0:"\0",b:"\b",f:"\f",n:"\n",r:"\r",t:"	",v:"\v","'":"'",'"':'"',"\\":"\\"},s=function(t){return String.fromCodePoint(parseInt(t,16))};e.default=function(t){return t.replace(i,function(t,e,n,i,o,a,l,u){return void 0!==n?s(n):void 0!==i?s(i):void 0!==o?s(o):void 0!==a?String.fromCodePoint(parseInt(a,8)):void 0!==u?s(u):r[l]})},t.exports=e.default},33636:(t,e,n)=>{"use strict";function i(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function r(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=o)):void 0===e&&(e=s);for(var n,i,r,a,c,h=new u(t),f=[h];n=f.pop();)if((r=e(n.data))&&(c=(r=Array.from(r)).length))for(n.children=r,a=c-1;a>=0;--a)f.push(i=r[a]=new u(r[a])),i.parent=n,i.depth=n.depth+1;return h.eachBefore(l)}function s(t){return t.children}function o(t){return Array.isArray(t)?t[1]:null}function a(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function l(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function u(t){this.data=t,this.depth=this.height=0,this.parent=null}function c(t,e){return t.parent===e.parent?1:2}function h(t){var e=t.children;return e?e[0]:t.t}function f(t){var e=t.children;return e?e[e.length-1]:t.t}function d(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function p(){var t=c,e=1,n=1,i=null;function r(r){var l=function(t){for(var e,n,i,r,s,o=new d(t,0),a=[o];e=a.pop();)if(i=e._.children)for(e.children=Array(s=i.length),r=s-1;r>=0;--r)a.push(n=e.children[r]=new d(i[r],r)),n.parent=e;return(o.parent=new d(null,0)).children=[o],o}(r);if(l.eachAfter(s),l.parent.m=-l.z,l.eachBefore(o),i)r.eachBefore(a);else{var u=r,c=r,h=r;r.eachBefore(function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)});var f=u===c?1:t(u,c)/2,p=f-u.x,m=e/(c.x+f+p),v=n/(h.depth||1);r.eachBefore(function(t){t.x=(t.x+p)*m,t.y=t.depth*v})}return r}function s(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,s=r.length;--s>=0;)e=r[s],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var s=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-s):e.z=s}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,s,o,a=e,l=e,u=n,c=a.parent.children[0],d=a.m,p=l.m,m=u.m,v=c.m;u=f(u),a=h(a),u&&a;)c=h(c),(l=f(l)).a=e,(o=u.z+m-a.z-d+t(u._,a._))>0&&(function(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}((r=u,s=i,r.a.parent===e.parent?r.a:s),e,o),d+=o,p+=o),m+=u.m,d+=a.m,v+=c.m,p+=l.m;u&&!f(l)&&(l.t=u,l.m+=m-p),a&&!h(c)&&(c.t=a,c.m+=d-v,i=e)}return i}(e,r,e.parent.A||i[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r}n.d(e,{Sk5:()=>r,B22:()=>p}),n(41184),u.prototype=r.prototype={constructor:u,count:function(){return this.eachAfter(i)},each:function(t,e){let n=-1;for(let i of this)t.call(e,i,++n,this);return this},eachAfter:function(t,e){for(var n,i,r,s=this,o=[s],a=[],l=-1;s=o.pop();)if(a.push(s),n=s.children)for(i=0,r=n.length;i<r;++i)o.push(n[i]);for(;s=a.pop();)t.call(e,s,++l,this);return this},eachBefore:function(t,e){for(var n,i,r=this,s=[r],o=-1;r=s.pop();)if(t.call(e,r,++o,this),n=r.children)for(i=n.length-1;i>=0;--i)s.push(n[i]);return this},find:function(t,e){let n=-1;for(let i of this)if(t.call(e,i,++n,this))return i},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)i.push(e=e.parent);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return r(this).eachBefore(a)},[Symbol.iterator]:function*(){var t,e,n,i,r=this,s=[r];do for(t=s.reverse(),s=[];r=t.pop();)if(yield r,e=r.children)for(n=0,i=e.length;n<i;++n)s.push(e[n]);while(s.length)}},d.prototype=Object.create(u.prototype),n(48069),n(76184)},82662:(t,e,n)=>{"use strict";n.d(e,{Ez:()=>tO,Kl:()=>tY});var i,r=n(96540);function s(t,e){if(!t)throw Error("Invariant failed")}var o=n(74848);function a(t,e,n){return t[e]?t[e][0]?t[e][0][n]:t[e][n]:"contentBoxSize"===e?t.contentRect["inlineSize"===n?"width":"height"]:void 0}let l={toVector:(t,e)=>(void 0===t&&(t=e),Array.isArray(t)?t:[t,t]),add:(t,e)=>[t[0]+e[0],t[1]+e[1]],sub:(t,e)=>[t[0]-e[0],t[1]-e[1]],addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function u(t,e,n){return 0===e||Math.abs(e)===1/0?Math.pow(t,5*n):t*e*n/(e+n*t)}function c(t,e,n,i=.15){return 0===i?Math.max(e,Math.min(t,n)):t<e?-u(e-t,n-e,i)+e:t>n?+u(t-n,n-e,i)+n:t}function h(t,e,n){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){h(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}let p={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function m(t){return t?t[0].toUpperCase()+t.slice(1):""}let v=["enter","leave"],g=["gotpointercapture","lostpointercapture"];function y(t){return"touches"in t}function b(t){return y(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function _(t){return y(t)?("touchend"===t.type||"touchcancel"===t.type?t.changedTouches:t.targetTouches)[0]:t}function x(t,e){try{let n=e.clientX-t.clientX,i=e.clientY-t.clientY,r=(e.clientX+t.clientX)/2,s=(e.clientY+t.clientY)/2,o=Math.hypot(n,i);return{angle:-(180*Math.atan2(n,i))/Math.PI,distance:o,origin:[r,s]}}catch(t){}return null}function w(t,e){let[n,i]=Array.from(t.touches).filter(t=>e.includes(t.identifier));return x(n,i)}function M(t){let e=_(t);return y(t)?e.identifier:e.pointerId}function k(t){let e=_(t);return[e.clientX,e.clientY]}function S(t){let{deltaX:e,deltaY:n,deltaMode:i}=t;return 1===i?(e*=40,n*=40):2===i&&(e*=800,n*=800),[e,n]}function C(t,...e){return"function"==typeof t?t(...e):t}function E(){}function P(t,e){return Object.assign({},e,t||{})}class D{constructor(t,e,n){this.ctrl=t,this.args=e,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:t,shared:e,ingKey:n,args:i}=this;e[n]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){let e=this.state,n=this.config;e._active||(this.reset(),this.computeInitial(),e._active=!0,e.target=t.target,e.currentTarget=t.currentTarget,e.lastOffset=n.from?C(n.from,e):e.offset,e.offset=e.lastOffset,e.startTime=e.timeStamp=t.timeStamp)}computeValues(t){let e=this.state;e._values=t,e.values=this.config.transform(t)}computeInitial(){let t=this.state;t._initial=t._values,t.initial=t.values}compute(t){let{state:e,config:n,shared:i}=this;e.args=this.args;let r=0;if(t&&(e.event=t,n.preventDefault&&t.cancelable&&e.event.preventDefault(),e.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,function(t){let e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){let{shiftKey:n,altKey:i,metaKey:r,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:i,metaKey:r,ctrlKey:s})}return e}(t)),i.down=i.pressed=i.buttons%2==1||i.touches>0,r=t.timeStamp-e.timeStamp,e.timeStamp=t.timeStamp,e.elapsedTime=e.timeStamp-e.startTime),e._active){let t=e._delta.map(Math.abs);l.addTo(e._distance,t)}this.axisIntent&&this.axisIntent(t);let[s,o]=e._movement,[a,u]=n.threshold,{_step:h,values:f}=e;if(n.hasCustomTransform?(!1===h[0]&&(h[0]=Math.abs(s)>=a&&f[0]),!1===h[1]&&(h[1]=Math.abs(o)>=u&&f[1])):(!1===h[0]&&(h[0]=Math.abs(s)>=a&&Math.sign(s)*a),!1===h[1]&&(h[1]=Math.abs(o)>=u&&Math.sign(o)*u)),e.intentional=!1!==h[0]||!1!==h[1],!e.intentional)return;let d=[0,0];if(n.hasCustomTransform){let[t,e]=f;d[0]=!1!==h[0]?t-h[0]:0,d[1]=!1!==h[1]?e-h[1]:0}else d[0]=!1!==h[0]?s-h[0]:0,d[1]=!1!==h[1]?o-h[1]:0;this.restrictToAxis&&!e._blocked&&this.restrictToAxis(d);let p=e.offset,m=e._active&&!e._blocked||e.active;m&&(e.first=e._active&&!e.active,e.last=!e._active&&e.active,e.active=i[this.ingKey]=e._active,t&&(e.first&&("bounds"in n&&(e._bounds=C(n.bounds,e)),this.setup&&this.setup()),e.movement=d,this.computeOffset()));let[v,g]=e.offset,[[y,b],[_,x]]=e._bounds;e.overflow=[v<y?-1:v>b?1:0,g<_?-1:g>x?1:0],e._movementBound[0]=!!e.overflow[0]&&(!1===e._movementBound[0]?e._movement[0]:e._movementBound[0]),e._movementBound[1]=!!e.overflow[1]&&(!1===e._movementBound[1]?e._movement[1]:e._movementBound[1]);let w=e._active&&n.rubberband||[0,0];if(e.offset=function(t,[e,n],[i,r]){let[[s,o],[a,l]]=t;return[c(e,s,o,i),c(n,a,l,r)]}(e._bounds,e.offset,w),e.delta=l.sub(e.offset,p),this.computeMovement(),m&&(!e.last||r>32)){e.delta=l.sub(e.offset,p);let t=e.delta.map(Math.abs);l.addTo(e.distance,t),e.direction=e.delta.map(Math.sign),e._direction=e._delta.map(Math.sign),!e.first&&r>0&&(e.velocity=[t[0]/r,t[1]/r],e.timeDelta=r)}}emit(){let t=this.state,e=this.shared,n=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!n.triggerAllEvents)return;let i=this.handler(d(d(d({},e),t),{},{[this.aliasKey]:t.values}));void 0!==i&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class A extends D{constructor(...t){super(...t),h(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=l.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=l.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){let e=this.state,n=this.config;if(!e.axis&&t){let i="object"==typeof n.axisThreshold?n.axisThreshold[b(t)]:n.axisThreshold;e.axis=function([t,e],n){let i=Math.abs(t),r=Math.abs(e);return i>r&&i>n?"x":r>i&&r>n?"y":void 0}(e._movement,i)}e._blocked=(n.lockDirection||!!n.axis)&&!e.axis||!!n.axis&&n.axis!==e.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0}}}let I=t=>t,T={enabled:(t=!0)=>t,eventOptions:(t,e,n)=>d(d({},n.shared.eventOptions),t),preventDefault:(t=!1)=>t,triggerAllEvents:(t=!1)=>t,rubberband(t=0){switch(t){case!0:return[.15,.15];case!1:return[0,0];default:return l.toVector(t)}},from:t=>"function"==typeof t?t:null!=t?l.toVector(t):void 0,transform(t,e,n){let i=t||n.shared.transform;return this.hasCustomTransform=!!i,i||I},threshold:t=>l.toVector(t,0)},j=0,O=d(d({},T),{},{axis(t,e,{axis:n}){if(this.lockDirection="lock"===n,!this.lockDirection)return n},axisThreshold:(t=j)=>t,bounds(t={}){if("function"==typeof t)return e=>O.bounds(t(e));if("current"in t)return()=>t.current;if("function"==typeof HTMLElement&&t instanceof HTMLElement)return t;let{left:e=-1/0,right:n=1/0,top:i=-1/0,bottom:r=1/0}=t;return[[e,n],[i,r]]}}),$={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class B extends A{constructor(...t){super(...t),h(this,"ingKey","dragging")}reset(){super.reset();let t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){let t=this.state;if(t._bounds instanceof HTMLElement){let e=t._bounds.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect(),i={left:e.left-n.left+t.offset[0],right:e.right-n.right+t.offset[0],top:e.top-n.top+t.offset[1],bottom:e.bottom-n.bottom+t.offset[1]};t._bounds=O.bounds(i)}}cancel(){let t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){let e=this.config,n=this.state;if(null!=t.buttons&&(Array.isArray(e.pointerButtons)?!e.pointerButtons.includes(t.buttons):-1!==e.pointerButtons&&e.pointerButtons!==t.buttons))return;let i=this.ctrl.setEventIds(t);e.pointerCapture&&t.target.setPointerCapture(t.pointerId),i&&i.size>1&&n._pointerActive||(this.start(t),this.setupPointer(t),n._pointerId=M(t),n._pointerActive=!0,this.computeValues(k(t)),this.computeInitial(),e.preventScrollAxis&&"mouse"!==b(t)?(n._active=!1,this.setupScrollPrevention(t)):e.delay>0?(this.setupDelayTrigger(t),e.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){let e=this.state;e._active=!0,e._preventScroll=!0,e._delayed=!1,this.compute(t),this.emit()}pointerMove(t){let e=this.state,n=this.config;if(!e._pointerActive)return;let i=M(t);if(void 0!==e._pointerId&&i!==e._pointerId)return;let r=k(t);if(document.pointerLockElement===t.target?e._delta=[t.movementX,t.movementY]:(e._delta=l.sub(r,e._values),this.computeValues(r)),l.addTo(e._movement,e._delta),this.compute(t),e._delayed&&e.intentional){this.timeoutStore.remove("dragDelay"),e.active=!1,this.startPointerDrag(t);return}if(n.preventScrollAxis&&!e._preventScroll){if(!e.axis)return;if(e.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis){e._active=!1,this.clean();return}this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch(t){}let e=this.state,n=this.config;if(!e._active||!e._pointerActive)return;let i=M(t);if(void 0!==e._pointerId&&i!==e._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);let[r,s]=e._distance;if(e.tap=r<=n.tapsThreshold&&s<=n.tapsThreshold,e.tap&&n.filterTaps)e._force=!0;else{let[t,i]=e._delta,[r,s]=e._movement,[o,a]=n.swipe.velocity,[l,u]=n.swipe.distance,c=n.swipe.duration;if(e.elapsedTime<c){let n=Math.abs(t/e.timeDelta),c=Math.abs(i/e.timeDelta);n>o&&Math.abs(r)>l&&(e.swipe[0]=Math.sign(t)),c>a&&Math.abs(s)>u&&(e.swipe[1]=Math.sign(i))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){let e=this.config,n=e.device;e.pointerLock&&t.currentTarget.requestPointerLock(),e.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,"persist"in t&&"function"==typeof t.persist&&t.persist();let e=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",e),this.eventStore.add(this.sharedConfig.window,"touch","cancel",e),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){let e=$[t.key];if(e){let n=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),n._delta=e(this.config.keyboardDisplacement,i),n._keyboardActive=!0,l.addTo(n._movement,n._delta),this.compute(t),this.emit()}}keyUp(t){t.key in $&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){let e=this.config.device;t(e,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(e,"change",this.pointerMove.bind(this)),t(e,"end",this.pointerUp.bind(this)),t(e,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}let L="undefined"!=typeof window&&window.document&&window.document.createElement;function z(){return L&&"ontouchstart"in window}let N={isBrowser:L,gesture:function(){try{return"constructor"in GestureEvent}catch(t){return!1}}(),touch:z(),touchscreen:z()||L&&window.navigator.maxTouchPoints>1,pointer:L&&"onpointerdown"in window,pointerLock:L&&"exitPointerLock"in window.document},R=10,F={mouse:0,touch:0,pen:8},K=d(d({},O),{},{device(t,e,{pointer:{touch:n=!1,lock:i=!1,mouse:r=!1}={}}){return(this.pointerLock=i&&N.pointerLock,N.touch&&n)?"touch":this.pointerLock?"mouse":N.pointer&&!r?"pointer":N.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay="number"==typeof n?n:n||void 0===n&&t?250:void 0,N.touchscreen&&!1!==n)return t||(void 0!==n?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&"pointer"===this.device&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:i=3,axis:r}){let s=l.toVector(t,n?i:r?1:0);return this.filterTaps=n,this.tapsThreshold=i,s},swipe({velocity:t=.5,distance:e=50,duration:n=250}={}){return{velocity:this.transform(l.toVector(t)),distance:this.transform(l.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return 180;case!1:return 0;default:return t}},axisThreshold:t=>t?d(d({},F),t):F,keyboardDisplacement:(t=R)=>t});function V(t){let[e,n]=t.overflow,[i,r]=t._delta,[s,o]=t._direction;(e<0&&i>0&&s<0||e>0&&i<0&&s>0)&&(t._movement[0]=t._movementBound[0]),(n<0&&r>0&&o<0||n>0&&r<0&&o>0)&&(t._movement[1]=t._movementBound[1])}class q extends D{constructor(...t){super(...t),h(this,"ingKey","pinching"),h(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){let{type:t,movement:e,lastOffset:n}=this.state;"wheel"===t?this.state.offset=l.add(e,n):this.state.offset=[(1+e[0])*n[0],e[1]+n[1]]}computeMovement(){let{offset:t,lastOffset:e}=this.state;this.state.movement=[t[0]/e[0],t[1]-e[1]]}axisIntent(){let t=this.state,[e,n]=t._movement;if(!t.axis){let i=30*Math.abs(e)-Math.abs(n);i<0?t.axis="angle":i>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&("scale"===this.state.axis?t[1]=0:"angle"===this.state.axis&&(t[0]=0))}cancel(){let t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);let e=this.state,n=this.ctrl.touchIds;if(e._active&&e._touchIds.every(t=>n.has(t))||n.size<2)return;this.start(t),e._touchIds=Array.from(n).slice(0,2);let i=w(t,e._touchIds);i&&this.pinchStart(t,i)}pointerStart(t){if(null!=t.buttons&&t.buttons%2!=1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);let e=this.state,n=e._pointerEvents,i=this.ctrl.pointerIds;if(e._active&&Array.from(n.keys()).every(t=>i.has(t))||(n.size<2&&n.set(t.pointerId,t),e._pointerEvents.size<2))return;this.start(t);let r=x(...Array.from(n.values()));r&&this.pinchStart(t,r)}pinchStart(t,e){this.state.origin=e.origin,this.computeValues([e.distance,e.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;let e=w(t,this.state._touchIds);e&&this.pinchMove(t,e)}pointerMove(t){let e=this.state._pointerEvents;if(e.has(t.pointerId)&&e.set(t.pointerId,t),!this.state._active)return;let n=x(...Array.from(e.values()));n&&this.pinchMove(t,n)}pinchMove(t,e){let n=this.state,i=n._values[1],r=e.angle-i,s=0;Math.abs(r)>270&&(s+=Math.sign(r)),this.computeValues([e.distance,e.angle-360*s]),n.origin=e.origin,n.turns=s,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(t=>!this.ctrl.touchIds.has(t))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){let e=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch(t){}e._pointerEvents.has(t.pointerId)&&e._pointerEvents.delete(t.pointerId),e._active&&e._pointerEvents.size<2&&(e._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();let e=this.state;e._active||(this.start(t),this.computeValues([t.scale,t.rotation]),e.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;let e=this.state;this.computeValues([t.scale,t.rotation]),e.origin=[t.clientX,t.clientY];let n=e._movement;e._movement=[t.scale-1,t.rotation],e._delta=l.sub(e._movement,n),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){let e=this.config.modifierKey;(!e||(Array.isArray(e)?e.find(e=>t[e]):t[e]))&&(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||!t.cancelable||t.preventDefault();let e=this.state;e._delta=[-S(t)[1]/100*e.offset[0],0],l.addTo(e._movement,e._delta),V(e),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){let e=this.config.device;e&&(t(e,"start",this[e+"Start"].bind(this)),t(e,"change",this[e+"Move"].bind(this)),t(e,"end",this[e+"End"].bind(this)),t(e,"cancel",this[e+"End"].bind(this)),t("lostPointerCapture","",this[e+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}let Y=d(d({},T),{},{device(t,e,{shared:n,pointer:{touch:i=!1}={}}){if(n.target&&!N.touch&&N.gesture)return"gesture";if(N.touch&&i)return"touch";if(N.touchscreen){if(N.pointer)return"pointer";if(N.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:i={}}){let r=t=>{let e=P(C(n,t),{min:-1/0,max:1/0});return[e.min,e.max]},s=t=>{let e=P(C(i,t),{min:-1/0,max:1/0});return[e.min,e.max]};return"function"!=typeof n&&"function"!=typeof i?[r(),s()]:t=>[r(t),s(t)]},threshold(t,e,n){return this.lockDirection="lock"===n.axis,l.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey:t=>void 0===t?"ctrlKey":t,pinchOnWheel:(t=!0)=>t});class H extends A{constructor(...t){super(...t),h(this,"ingKey","moving")}move(t){this.config.mouseOnly&&"mouse"!==t.pointerType||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(k(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;let e=k(t),n=this.state;n._delta=l.sub(e,n._values),l.addTo(n._movement,n._delta),this.computeValues(e),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}let U=d(d({},O),{},{mouseOnly:(t=!0)=>t});class X extends A{constructor(...t){super(...t),h(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();let e=this.state,n=function(t){var e,n;let{scrollX:i,scrollY:r,scrollLeft:s,scrollTop:o}=t.currentTarget;return[null!==(e=null!=i?i:s)&&void 0!==e?e:0,null!==(n=null!=r?r:o)&&void 0!==n?n:0]}(t);e._delta=l.sub(n,e._values),l.addTo(e._movement,e._delta),this.computeValues(n),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}class W extends A{constructor(...t){super(...t),h(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){let e=this.state;e._delta=S(t),l.addTo(e._movement,e._delta),V(e),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}class J extends A{constructor(...t){super(...t),h(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&"mouse"!==t.pointerType||(this.start(t),this.computeValues(k(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&"mouse"!==t.pointerType)return;let e=this.state;if(!e._active)return;e._active=!1;let n=k(t);e._movement=e._delta=l.sub(n,e._values),this.computeValues(n),this.compute(t),e.delta=e.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}let G=d(d({},O),{},{mouseOnly:(t=!0)=>t}),Q=new Map,Z=new Map;function tt(t){Q.set(t.key,t.engine),Z.set(t.key,t.resolver)}let te={key:"drag",engine:B,resolver:K},tn={key:"hover",engine:J,resolver:G},ti={key:"move",engine:H,resolver:U},tr={key:"pinch",engine:q,resolver:Y},ts={key:"scroll",engine:X,resolver:O},to={key:"wheel",engine:W,resolver:O},ta={target(t){if(t)return()=>"current"in t?t.current:t},enabled:(t=!0)=>t,window:(t=N.isBrowser?window:void 0)=>t,eventOptions:({passive:t=!0,capture:e=!1}={})=>({passive:t,capture:e}),transform:t=>t},tl=["target","eventOptions","window","enabled","transform"];function tu(t={},e){let n={};for(let[i,r]of Object.entries(e))switch(typeof r){case"function":n[i]=r.call(n,t[i],i,t);break;case"object":n[i]=tu(t[i],r);break;case"boolean":r&&(n[i]=t[i])}return n}class tc{constructor(t,e){h(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=e}add(t,e,n,i,r){let s=this._listeners,o=function(t,e=""){let n=p[t];return t+(n&&n[e]||e)}(e,n),a=d(d({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),r);t.addEventListener(o,i,a);let l=()=>{t.removeEventListener(o,i,a),s.delete(l)};return s.add(l),l}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class th{constructor(){h(this,"_timeouts",new Map)}add(t,e,n=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(e,n,...i))}remove(t){let e=this._timeouts.get(t);e&&window.clearTimeout(e)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class tf{constructor(t){h(this,"gestures",new Set),h(this,"_targetEventStore",new tc(this)),h(this,"gestureEventStores",{}),h(this,"gestureTimeoutStores",{}),h(this,"handlers",{}),h(this,"config",{}),h(this,"pointerIds",new Set),h(this,"touchIds",new Set),h(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(t,e){e.drag&&td(t,"drag"),e.wheel&&td(t,"wheel"),e.scroll&&td(t,"scroll"),e.move&&td(t,"move"),e.pinch&&td(t,"pinch"),e.hover&&td(t,"hover")}(this,t)}setEventIds(t){return y(t)?(this.touchIds=new Set(Array.from(t.touches).filter(e=>{var n,i;return e.target===t.currentTarget||(null===(n=t.currentTarget)||void 0===n||null===(i=n.contains)||void 0===i?void 0:i.call(n,e.target))}).map(t=>t.identifier)),this.touchIds):"pointerId"in t?("pointerup"===t.type||"pointercancel"===t.type?this.pointerIds.delete(t.pointerId):"pointerdown"===t.type&&this.pointerIds.add(t.pointerId),this.pointerIds):void 0}applyHandlers(t,e){this.handlers=t,this.nativeHandlers=e}applyConfig(t,e){this.config=function(t,e,n={}){let{target:i,eventOptions:r,window:s,enabled:o,transform:a}=t,l=function(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(t,tl);if(n.shared=tu({target:i,eventOptions:r,window:s,enabled:o,transform:a},ta),e){let t=Z.get(e);n[e]=tu(d({shared:n.shared},l),t)}else for(let t in l){let e=Z.get(t);e&&(n[t]=tu(d({shared:n.shared},l[t]),e))}return n}(t,e,this.config)}clean(){for(let t of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){let e;let n=this.config.shared,i={};if(!n.target||(e=n.target())){if(n.enabled){for(let n of this.gestures){let r=this.config[n],s=tp(i,r.eventOptions,!!e);r.enabled&&new(Q.get(n))(this,t,n).bind(s)}let r=tp(i,n.eventOptions,!!e);for(let e in this.nativeHandlers)r(e,"",n=>this.nativeHandlers[e](d(d({},this.state.shared),{},{event:n,args:t})),void 0,!0)}for(let t in i)i[t]=function(...t){return 0===t.length?E:1===t.length?t[0]:function(){let e;for(let n of t)e=n.apply(this,arguments)||e;return e}}(...i[t]);if(!e)return i;for(let t in i){let{device:n,capture:r,passive:s}=function(t){let e=t.substring(2).toLowerCase(),n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));let i=g.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(i);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:n}}(t);this._targetEventStore.add(e,n,"",i[t],{capture:r,passive:s})}}}}function td(t,e){t.gestures.add(e),t.gestureEventStores[e]=new tc(t,e),t.gestureTimeoutStores[e]=new th}let tp=(t,e,n)=>(i,r,s,o={},a=!1)=>{var l,u;let c=null!==(l=o.capture)&&void 0!==l?l:e.capture,h=null!==(u=o.passive)&&void 0!==u?u:e.passive,f=a?i:function(t,e="",n=!1){let i=p[t],r=i&&i[e]||e;return"on"+m(t)+m(r)+(!function(t=!1,e){return t&&!v.includes(e)}(n,r)?"":"Capture")}(i,r,c);n&&h&&(f+="Passive"),t[f]=t[f]||[],t[f].push(s)},tm=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function tv(t,e,n,i,r,s){if(!t.has(n)||!Q.has(i))return;let o=n+"Start",a=n+"End";r[i]=t=>{let i;return t.first&&o in e&&e[o](t),n in e&&(i=e[n](t)),t.last&&a in e&&e[a](t),i},s[i]=s[i]||{}}function tg(t,e={},n,i){let s=r.useMemo(()=>new tf(t),[]);if(s.applyHandlers(t,i),s.applyConfig(e,n),r.useEffect(s.effect.bind(s)),r.useEffect(()=>s.clean.bind(s),[]),void 0===e.target)return s.bind.bind(s)}n(1041);var ty=r.createContext(null);function tb(t,e=0){let n=Math.pow(10,e||0);return Math.round(t*n)/n}function t_(t,e,n=1){let i=[];for(let r=t;r<e-n/2;r+=n)i.push(r);let r=i[i.length-1]+n;return Math.abs(e-r)<n/1e-6?i.push(e):i.push(r),i}function tx(t,e,n){return Math.min(Math.max(t,e),n)}ty.displayName="CoordinateContext";var{round:tw,ceil:tM,floor:tk,log2:tS}=Math,tC=r.createContext({xPanes:[],yPanes:[],xPaneRange:[0,0],yPaneRange:[0,0]});function tE(){return r.useContext(tC)}function tP({children:t}){let{xMin:e,xMax:n,yMin:i,yMax:a}=function(){let t=r.useContext(ty);return s(t,"CoordinateContext is not loaded. Are you rendering a Mafs component outside of Mafs?"),t}(),l=2**tw(tS(n-e)-1),u=2**tw(tS(a-i)-1),c=1/8,h=l*tk(e/l-1/8),f=l*tM(n/l+c),d=u*tk(i/u-c),p=u*tM(a/u+c),m=r.useMemo(()=>t_(h,f-l,l).map(t=>[t,t+l]),[h,f,l]),v=r.useMemo(()=>t_(d,p-u,u).map(t=>[t,t+u]),[d,p,u]),g=r.useMemo(()=>({xPanes:m,yPanes:v,xPaneRange:[h,f],yPaneRange:[d,p]}),[m,v,h,f,d,p]);return(0,o.jsx)(tC.Provider,{value:g,children:t})}function tD(t=1,e=0,n=0,i=1,r=0,s=0){return[t,n,r,e,i,s]}tC.displayName="PaneContext",tP.displayName="PaneManager",(t=>{function e(t,e){return[t[0]+e[0],t[1]+e[1]]}function n(t,e){return[t[0]-e[0],t[1]-e[1]]}function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function r(t,r,o){let a=n(r,t),l=i(a);return e(t,s(a,o*l))}function s(t,e){let n=i(t);return o(t,e/n)}function o(t,e){return[t[0]*e,t[1]*e]}function a(t,e){return tD(t[0]*e[0]+t[1]*e[3],t[3]*e[0]+t[4]*e[3],t[0]*e[1]+t[1]*e[4],t[3]*e[1]+t[4]*e[4],t[0]*e[2]+t[1]*e[5]+t[2],t[3]*e[2]+t[4]*e[5]+t[5])}function l(t,e){let n=Math.cos(e),i=Math.sin(e);return[t[0]*n-t[1]*i,t[0]*i+t[1]*n]}function u(t,e){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function c(t){return t[0]*t[4]-t[3]*t[1]}function h(t=null){let e=t||tD();return{mult:t=>h(a(t,e)),translate:(t,n)=>h(a(tD(1,0,0,1,t,n),e)),rotate:t=>{let n=Math.cos(t),i=Math.sin(t);return h(a(tD(n,i,-i,n),e))},scale:(t,n)=>h(a(tD(t,0,0,n),e)),shear:(t,n)=>h(a(tD(1,n,t,1),e)),get:()=>[...e]}}t.add=e,t.sub=n,t.mag=i,t.normal=function(t){return[-t[1],t[0]]},t.lerp=r,t.withMag=s,t.normalize=function(t){return s(t,1)},t.scale=o,t.transform=function(t,e){return[t[0]*e[0]+t[1]*e[1]+e[2],t[0]*e[3]+t[1]*e[4]+e[5]]},t.matrixMult=a,t.rotate=l,t.rotateAbout=function(t,i,r){let s=n(t,i);return e(i,l(s,r))},t.midpoint=function(t,e){return r(t,e,.5)},t.dist=function(t,e){return Math.sqrt(u(t,e))},t.squareDist=u,t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},t.det=c,t.matrixInvert=function(t){let e=c(t);if(!e)return null;let n=1/e,i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5];return tD(n*a,-(n*o),-(n*r),n*i,n*(l*r-s*a),n*(-l*i+s*o))},t.matrixBuilder=h,t.toCSS=function(t){let[e,n,i,r,s,o]=t;return`matrix(${e}, ${r}, ${n}, ${s}, ${i}, ${o})`},t.identity=h().get()})(i||(i={}));var tA=r.createContext(null);function tI(){let t=r.useContext(tA);return s(t,"TransformContext is not loaded. Are you rendering a Mafs component outside of a MafsView?"),t}tA.displayName="TransformContext";var tT=r.createContext({xSpan:0,ySpan:0});tT.displayName="SpanContext";var tj=r.createContext({overrideHeight:void 0});function tO({width:t="auto",height:e=500,pan:n=!0,zoom:i=!1,viewBox:s={x:[-3,3],y:[-3,3]},preserveAspectRatio:l="contain",children:u,ssr:c=!1,onClick:h}){var f,d,p,m,v,g,y,b,_,x,w,M,k,S,C,E,P;let D=r.useContext(tj).overrideHeight??e,A="auto"===t?"100%":`${t}px`,I=r.useRef(null),{width:T="auto"===t?c?500:0:t}=(d=(f={ref:"auto"===t?I:null}).onResize,(p=(0,r.useRef)(void 0)).current=d,m=f.round||Math.round,v=(0,r.useRef)(),y=(g=(0,r.useState)({width:void 0,height:void 0}))[0],b=g[1],_=(0,r.useRef)(!1),(0,r.useEffect)(function(){return _.current=!1,function(){_.current=!0}},[]),x=(0,r.useRef)({width:void 0,height:void 0}),w=(0,r.useCallback)(function(t){return v.current&&v.current.box===f.box&&v.current.round===m||(v.current={box:f.box,round:m,instance:new ResizeObserver(function(t){var e=t[0],n="border-box"===f.box?"borderBoxSize":"device-pixel-content-box"===f.box?"devicePixelContentBoxSize":"contentBoxSize",i=a(e,n,"inlineSize"),r=a(e,n,"blockSize"),s=i?m(i):void 0,o=r?m(r):void 0;if(x.current.width!==s||x.current.height!==o){var l={width:s,height:o};x.current.width=s,x.current.height=o,p.current?p.current(l):_.current||b(l)}})}),v.current.instance.observe(t,{box:f.box}),function(){v.current&&v.current.instance.unobserve(t)}},[f.box,m]),M=f.ref,k=(0,r.useRef)(null),(S=(0,r.useRef)(null)).current=M,C=(0,r.useRef)(null),(0,r.useEffect)(function(){E()}),E=(0,r.useCallback)(function(){var t=C.current,e=S.current,n=t||(e?e instanceof Element?e:e.current:null);k.current&&k.current.element===n&&k.current.subscriber===w||(k.current&&k.current.cleanup&&k.current.cleanup(),k.current={element:n,subscriber:w,cleanup:n?w(n):void 0})},[w]),(0,r.useEffect)(function(){return function(){k.current&&k.current.cleanup&&(k.current.cleanup(),k.current=null)}},[]),P=(0,r.useCallback)(function(t){C.current=t,E()},[E]),(0,r.useMemo)(function(){return{ref:P,width:y.width,height:y.height}},[P,y.width,y.height]));return(0,o.jsx)("div",{className:"MafsView",style:{width:A,height:D},tabIndex:n||i?0:-1,ref:I,children:T>0&&(0,o.jsx)(t$,{width:T,height:D,desiredCssWidth:A,rootRef:I,pan:n,zoom:i,viewBox:s,preserveAspectRatio:l,ssr:c,onClick:h,children:u})})}function t$({width:t,height:e,desiredCssWidth:n,rootRef:a,pan:l,zoom:u,viewBox:c,preserveAspectRatio:h,children:f,onClick:d}){var p,m;let v=1,g=1;"object"==typeof u?(s(u.min>0&&u.min<=1,"zoom.min must be in the range (0, 1]"),s(u.max>=1,"zoom.max must be in the range [1, ∞)"),v=u.min,g=u.max):u&&(v=.5,g=5);let y=function({minZoom:t,maxZoom:e}){let[n,s]=r.useState(i.identity),o=r.useRef(i.identity);return{matrix:n,setBase(){o.current=n},move({zoom:n,pan:r}){let a=1/(n?.scale??1),l=n?.at??[0,0],u=o.current[0],c=tx(a,1/e/u,1/t/u);s(i.matrixBuilder(o.current).translate(...i.scale(l,-1)).scale(c,c).translate(...i.scale(l,1)).translate(...r??[0,0]).get())}}}({minZoom:v,maxZoom:g}),b=c?.padding??.5,_=(c?.x?.[0]??0)-b,x=(c?.x?.[1]??0)+b,w=(c?.y?.[0]??0)-b,M=(c?.y?.[1]??0)+b;if("contain"===h){let n=t/e;if((x-_)/(M-w)>n){let t=(M+w)/2,e=(x-_)/n/2;w=t-e,M=t+e}else{let t=(x+_)/2,e=(M-w)*n/2;_=t-e,x=t+e}}[_,w]=i.transform([_,w],y.matrix),[x,M]=i.transform([x,M],y.matrix);let k=x-_,S=M-w,C=r.useMemo(()=>{let n=tb(1/k*t,5),r=tb(-1/S*e,5);return i.matrixBuilder().scale(n,r).get()},[e,t,k,S]),E=tb(_/(x-_)*t,10),P=tb(M/(w-M)*e,10),D=i.matrixInvert(C),A=r.useRef([0,0]),I=r.useRef([0,0]);function T(t){let e=a.current;s(e,"SVG is not mounted"),s(D,"View transform is not invertible");let n=e.getBoundingClientRect();return i.transform([t[0]-n.left+E,t[1]-n.top+P],D)}let j=function(t){let[e,n]=r.useState(!1),i=r.useRef(0);return r.useEffect(()=>{if(t)return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e);function e(){n(!1),clearTimeout(i.current),i.current=setTimeout(()=>{n(!0)},500)}},[t]),{wheelEnabled:!!t&&e,handleMouseMove(){n(!0)}}}(!!u),O=r.useRef(!1);p={onDrag:({movement:n,first:r,event:s,type:o,pinching:a,memo:l=[0,0],last:u})=>{if(a)return n;r&&y.setBase();let[c,h]=i.sub(n,l);y.move({pan:[-c/t*k,h/e*S]});let f=o.includes("key");return f&&s?.preventDefault(),u&&(O.current=!0,setTimeout(()=>O.current=!1,10)),!f&&r?n:l},onPinch:({first:t,movement:[e],origin:n,event:r,last:s})=>{if(!r.currentTarget||!D)return;t&&(y.setBase(),A.current=n,I.current=l?T(n):[(_+x)/2,(w+M)/2]);let o=[0,0];l&&(o=i.transform(i.sub(n,A.current),D)),y.move({zoom:{at:I.current,scale:e},pan:i.scale(o,-1)}),s&&y.setBase()},onWheel:({pinching:t,event:e,delta:[,n]})=>{if(t)return;let i=2/(1+Math.exp(-n/300)),r=T([e.clientX,e.clientY]);y.setBase(),y.move({zoom:{at:r,scale:1/i}})},onKeyDown:({event:t})=>{if(t.metaKey)return;let e={Equal:1,Minus:-1}[t.code]??0;if(!e)return;let n=.1;(t.altKey||t.metaKey)&&(n=.01),t.shiftKey&&(n=.3);let i=1+e*n,r=[(x+_)/2,(M+w)/2];y.setBase(),y.move({zoom:{at:r,scale:i}})},onMouseMove:()=>{j.handleMouseMove()},onClick:({event:n})=>{if(!d||!a.current||O.current)return;let i=a.current.getBoundingClientRect(),r=n.clientX-i.left,s=i.bottom-n.clientY;d([r/t*k+_,s/e*S+w],n)}},m={drag:{enabled:l,eventOptions:{passive:!1},threshold:1},pinch:{enabled:!!u,eventOptions:{passive:!1}},wheel:{enabled:j.wheelEnabled,preventDefault:!0,eventOptions:{passive:!1}},target:a},([te,tr,ts,to,ti,tn].forEach(tt),function(t,e){let{handlers:n,nativeHandlers:i,config:r}=function(t,e){let[n,i,r]=function(t){let e={},n={},i=new Set;for(let r in t)tm.test(r)?(i.add(RegExp.lastMatch),n[r]=t[r]):e[r]=t[r];return[n,e,i]}(t),s={};return tv(r,n,"onDrag","drag",s,e),tv(r,n,"onWheel","wheel",s,e),tv(r,n,"onScroll","scroll",s,e),tv(r,n,"onPinch","pinch",s,e),tv(r,n,"onMove","move",s,e),tv(r,n,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:i}}(t,e||{});return tg(n,r,void 0,i)})(p,m||{});let $=i.toCSS(C),B=r.useMemo(()=>({xMin:_,xMax:x,yMin:w,yMax:M,height:e,width:t}),[_,x,w,M,e,t]);return(0,o.jsx)(ty.Provider,{value:B,children:(0,o.jsx)(tT.Provider,{value:{xSpan:k,ySpan:S},children:(0,o.jsx)(tA.Provider,{value:{userTransform:i.identity,viewTransform:C},children:(0,o.jsx)(tP,{children:(0,o.jsx)("svg",{width:t,height:e,viewBox:`${E} ${P} ${t} ${e}`,preserveAspectRatio:"xMidYMin",style:{width:n,touchAction:l?"none":"auto","--mafs-view-transform":$,"--mafs-user-transform":"translate(0, 0)"},children:f})})})})})}tj.Provider,tO.displayName="Mafs";function tB(t,e,n){let i=Math.floor(t/n)*n,r=Math.ceil(e/n)*n;return i===r-n?[i]:t_(i,r-n,n)}function tL({domain:t,minDepth:e,maxDepth:n,threshold:i,fn:r,error:s,onPoint:o,lerp:a}){let[l,u]=t;o(l,r(l)),function t(l,u,c,h,f){let d=function(t,e){let n=43758.5453*Math.sin(12.9898*t+78.233*e);return .4+.2*(n-Math.floor(n))}(l,u),p=l+(u-l)*d,m=r(p);function v(){t(l,p,c+1,h,m),o(p,m),t(p,u,c+1,m,f)}c<e?v():c<n&&s(m,a(h,f,d))>i&&v()}(l,u,0,r(l),r(u)),o(u,r(u))}function tz({xy:t,t:e,color:n,style:s="solid",weight:a=2,opacity:l=1,maxSamplingDepth:u=14,minSamplingDepth:c=8,svgPathProps:h={}}){let{viewTransform:f}=tI(),d=-i.det(f),[p,m]=e,v=.1/d,g=r.useMemo(()=>{let e;return e="M ",tL({fn:t,error:(t,e)=>i.squareDist(t,e),onPoint:(t,[n,i])=>{Number.isFinite(n)&&Number.isFinite(i)&&(e+=`${n} ${i} L `)},lerp:(t,e,n)=>i.lerp(t,e,n),domain:[p,m],minDepth:c,maxDepth:u,threshold:v}),e.substring(0,e.length-2)},[t,c,u,v,p,m]);return(0,o.jsx)("path",{d:g,strokeWidth:a,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...h,style:{stroke:n||"var(--mafs-fg)",strokeOpacity:l,strokeDasharray:"dashed"===s?"var(--mafs-line-stroke-dash-style)":void 0,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...h.style||{}}})}function tN({y:t,...e}){let{xPaneRange:[n,i]}=tE(),s=r.useCallback(e=>[e,t(e)],[t]),a=r.useMemo(()=>[n,i],[n,i]);return(0,o.jsx)(tz,{xy:s,t:a,...e})}function tR({x:t,...e}){let{yPaneRange:[n,i]}=tE(),s=r.useCallback(e=>[t(e),e],[t]),a=r.useMemo(()=>[n,i],[n,i]);return(0,o.jsx)(tz,{xy:s,t:a,...e})}t_(0,2*Math.PI,Math.PI/12),tz.displayName="Plot.Parametric",tN.displayName="Plot.OfX",tR.displayName="Plot.OfY";var tF={foreground:"var(--mafs-fg)",pink:"var(--mafs-pink)"},tK=()=>1;function tV({xy:t,step:e=1,xyOpacity:n=tK,opacityStep:r=n===tK?1:.2,color:s=tF.foreground}){let{viewTransform:a}=tI(),{xPanes:l,yPanes:u}=tE(),c=function(t){let e=[],n=1/t;for(let t=1;t>0;t-=n){let n={d:"",opacity:t};e.push(n)}return e}(Math.ceil(1/(r=Math.min(1,Math.max(.01,r)))));for(let[r,s]of l)for(let[o,l]of u)!function(r,s,o,l){for(let u=Math.floor(r);u<=Math.ceil(s);u+=e)for(let r=Math.floor(o);r<=Math.ceil(l);r+=e){let s=[u,r],o=t([u,r]),l=i.mag(o),h=i.scale(i.normalize(o),Math.min(l,.75*e)),f=i.add(s,h),d=i.transform(s,a),p=i.transform(h,a),m=i.mag(p),v=i.transform(f,a),g=i.scale(i.normalize(p),Math.min(m,5)),y=i.add(v,i.rotate(g,5/6*Math.PI)),b=i.add(v,i.rotate(g,-5/6*Math.PI)),_=function(t,e){e=tx(e,0,1);let n=t.length-1-Math.round(e*(t.length-1));return t[n]}(c,n([u,r]));_.d+=` M ${d[0]} ${d[1]} L ${v[0]} ${v[1]}  L ${y[0]} ${y[1]}  L ${b[0]} ${b[1]}  L ${v[0]} ${v[1]} `}}(r,s,o,l);return(0,o.jsx)(o.Fragment,{children:c.map((t,e)=>(0,o.jsx)("path",{d:t.d,style:{stroke:s,fill:s,opacity:t.opacity,fillOpacity:t.opacity,strokeOpacity:t.opacity},strokeLinecap:"round",strokeLinejoin:"round"},e))})}function tq({x:t,y:e,color:n=tF.foreground,weight:r=2,strokeColor:a=n,strokeOpacity:l=1,fillColor:u=n,fillOpacity:c=.15,minSamplingDepth:h=10,maxSamplingDepth:f=14,upperColor:d=a,upperOpacity:p=l,upperWeight:m=r,lowerColor:v=a,lowerOpacity:g=l,lowerWeight:y=r,svgUpperPathProps:b={},svgLowerPathProps:_={},svgFillPathProps:x={}}){let{xPaneRange:[w,M],yPaneRange:[k,S]}=tE(),C=e?[k,S]:[w,M],E=e||t;s(E&&void 0===t!=(void 0===e),"You must pass either an x or y set of functions to Inequality (but not both)"),s((void 0===E["<"]||void 0===E["<="])&&(void 0===E[">"]||void 0===E[">="]),"You cannot pass both an inequality and an equality operator to Inequality");let P=0;"<="in E&&(P=1),"<"in E&&(P=2);let D=0;">="in E&&(D=1),">"in E&&(D=2);let A=E["<"]??E["<="]??(()=>C[1]),I=E[">"]??E[">="]??(()=>C[0]);if("number"==typeof A){let t=A;A=()=>t}if("number"==typeof I){let t=I;I=()=>t}let T=function(t,e,n,r,s,o,a){let l={fill:"",upper:"",lower:""},u="",c="",h=!1,f=0,d=0,p=0;function m(e,n){return"x"===t?`${e} ${n}`:`${n} ${e}`}return tL({domain:r,minDepth:s,maxDepth:o,threshold:.1,fn:t=>[[t,n(t)],[t,e(t)]],error:([t,e],[n,r])=>Math.max(i.squareDist(t,n),i.squareDist(e,r)),lerp:([t,e],[n,r],s)=>[i.lerp(t,n,s),i.lerp(e,r,s)],onPoint:(t,[[,e],[,n]])=>{let i=n<e&&!h,r=n>e&&h;if(i){if(h=!0,u&&c){let i=(f+t)/2,r=((d+n)/2+(p+e)/2)/2;u+=` ${m(i,r)} L `,c=` ${m(i,r)} L `+c,l.fill+=` M ${u} ${c.substring(0,c.length-2)} z `,l.upper+=` M ${u.substring(0,u.length-2)} `,l.lower+=` M ${c.substring(0,c.length-2)} `,u="",c=""}}else if(r){h=!1;let i=(f+t)/2,r=((d+n)/2+(p+e)/2)/2;u+=` ${m(i,r)} L `,c=` ${m(i,r)} L `+c}!h&&(Number.isFinite(n)&&(u+=` ${m(t,n)} L `),Number.isFinite(e)&&(c=` ${m(t,e)} L `+c)),f=t,d=n,p=e}}),u&&c&&(l.fill+=` M ${u} ${c.substring(0,c.length-2)} z `,l.lower+=` M ${c.substring(0,c.length-2)} `,l.upper+=` M ${u.substring(0,u.length-2)} `),l}(e?"x":"y",A,I,e?[w,M]:[k,S],h,f,0);return(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:T.fill,style:{fill:u||"var(--mafs-fg)",fillOpacity:c,stroke:"none",transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...x?.style},...x}),0!=P&&(0,o.jsx)("path",{d:T.upper,strokeWidth:m,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:2===P?"4,8":"",style:{fill:"none",stroke:d,strokeOpacity:p,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...b?.style},...b}),0!=D&&(0,o.jsx)("path",{d:T.lower,strokeWidth:y,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:2===D?"4,8":"",style:{fill:"none",stroke:v,strokeOpacity:g,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",..._?.style},..._})]})}tV.displayName="Plot.VectorField",tq.displayName="Plot.Inequality";var tY={OfX:tN,OfY:tR,Parametric:tz,VectorField:tV,Inequality:tq};function tH({point1:t,point2:e,color:n=tF.foreground,style:r="solid",weight:s=2,opacity:a=1}){let l,u;let{xPaneRange:c,yPaneRange:h}=tE(),[f,d]=c,[p,m]=h,{userTransform:v}=tI(),g=i.transform(t,v),y=i.transform(e,v),b=(y[1]-g[1])/(y[0]-g[0]);return Math.abs(Math.atan(b))>Math.PI/4?(l=[(p-g[1])/b+g[0],p],u=[(m-g[1])/b+g[0],m]):(l=[f,b*(f-g[0])+g[1]],u=[d,b*(d-g[0])+g[1]]),(0,o.jsx)("line",{x1:tb(l[0],2),y1:tb(l[1],2),x2:tb(u[0],2),y2:tb(u[1],2),style:{stroke:n,strokeDasharray:"dashed"===r?"var(--mafs-line-stroke-dash-style)":void 0,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke"},strokeWidth:s,opacity:a})}function tU({center:t,radius:e,angle:n=0,strokeStyle:r="solid",strokeOpacity:s=1,weight:a=2,color:l=tF.foreground,fillOpacity:u=.15,svgEllipseProps:c={}}){let{viewTransform:h,userTransform:f}=tI(),d=i.matrixBuilder().translate(...t).mult(f).scale(1,-1).mult(h).scale(1,-1).get(),p=`
    ${i.toCSS(d)}
    rotate(${180/Math.PI*n})
  `;return(0,o.jsx)("ellipse",{cx:0,cy:0,rx:e[0],ry:e[1],strokeWidth:a,transform:p,...c,style:{stroke:l,strokeDasharray:"dashed"===r?"var(--mafs-line-stroke-dash-style)":void 0,fill:l,fillOpacity:u,strokeOpacity:s,vectorEffect:"non-scaling-stroke",...c.style||{}}})}function tX({element:t,points:e,color:n=tF.foreground,weight:r=2,fillOpacity:s=.15,strokeOpacity:a=1,strokeStyle:l="solid",svgPolyProps:u={}}){let{userTransform:c}=tI(),h=e.map(t=>i.transform(t,c).join(" ")).join(" ");return(0,o.jsx)(t,{points:h,strokeWidth:r,fillOpacity:s,strokeLinejoin:"round",...u,style:{fill:n,fillOpacity:s,stroke:n,strokeDasharray:"dashed"===l?"var(--mafs-line-stroke-dash-style)":void 0,strokeOpacity:a,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...u.style||{}}})}tH.displayName="Line.ThroughPoints",tU.displayName="Ellipse";var tW=r.forwardRef((t,e)=>{let{color:n=tF.pink,ringRadiusPx:s=15,dragging:a,point:l}=t,{viewTransform:u,userTransform:c}=tI(),h=r.useMemo(()=>i.matrixMult(u,c),[u,c]),[f,d]=i.transform(l,h);return(0,o.jsxs)("g",{ref:e,style:{"--movable-point-color":n,"--movable-point-ring-size":`${s}px`},className:`mafs-movable-point ${a?"mafs-movable-point-dragging":""}`,tabIndex:0,children:[(0,o.jsx)("circle",{className:"mafs-movable-point-hitbox",r:30,cx:f,cy:d}),(0,o.jsx)("circle",{className:"mafs-movable-point-focus",r:s+1,cx:f,cy:d}),(0,o.jsx)("circle",{className:"mafs-movable-point-ring",r:s,cx:f,cy:d}),(0,o.jsx)("circle",{className:"mafs-movable-point-point",r:6,cx:f,cy:d})]})});function tJ({point:t,onMove:e,constrain:n=t=>t,color:a=tF.pink}){let l=r.useRef(null),{dragging:u}=function(t){var e,n;let{gestureTarget:o,onMove:a,point:l,constrain:u}=t,[c,h]=r.useState(!1),{xSpan:f,ySpan:d}=function(){let t=r.useContext(tT);return s(t,"SpanContext is not defined"),t}(),{viewTransform:p,userTransform:m}=tI(),v=i.matrixInvert(p);s(v,"The view transform must be invertible.");let g=r.useMemo(()=>(function(t){let e=i.matrixInvert(t);return s(null!==e,"Could not invert transform matrix. A parent transformation matrix might be degenerative (mapping 2D space to a line)."),e})(m),[m]),y=r.useRef([0,0]);return e=t=>{let{type:e,event:n}=t;if(n?.stopPropagation(),e.includes("key")){n?.preventDefault();let{direction:e,altKey:r,metaKey:s,shiftKey:o}=t,c=[e[0],-e[1]],h=Math.abs(c[0])?f:d,p=50;(r||s)&&(p=200),o&&(p=10);let v=h/(2*p);for(let t of t_(h/p,h/2,h/p)){let e=i.scale(c,t),n=u(i.transform(i.add(i.transform(l,m),e),g));if(i.dist(n,l)>v){a(n);break}}}else{let{last:e,movement:n,first:r}=t;if(h(!e),r&&(y.current=i.transform(l,m)),0===i.mag(n))return;let s=i.transform(n,v);a(u(i.transform(i.add(y.current,s),g)))}},n={target:o,eventOptions:{passive:!1}},tt(te),tg({drag:e},n||{},"drag"),{dragging:c}}({gestureTarget:l,onMove:e,point:t,constrain:n});return(0,o.jsx)(tW,{ref:l,point:t,color:a,dragging:u})}tW.displayName="MovablePointDisplay",tJ.displayName="MovablePoint"},92896:(t,e,n)=>{"use strict";function i(t,e={}){let n=(e.align||[]).concat(),o=e.stringLength||r,a=[],l=[],u=[],c=[],h=0,f=-1;for(;++f<t.length;){let n=[],i=[],r=-1;for(t[f].length>h&&(h=t[f].length);++r<t[f].length;){var d;let s=null==(d=t[f][r])?"":String(d);if(!1!==e.alignDelimiters){let t=o(s);i[r]=t,(void 0===c[r]||t>c[r])&&(c[r]=t)}n.push(s)}l[f]=n,u[f]=i}let p=-1;if("object"==typeof n&&"length"in n)for(;++p<h;)a[p]=s(n[p]);else{let t=s(n);for(;++p<h;)a[p]=t}p=-1;let m=[],v=[];for(;++p<h;){let t=a[p],n="",i="";99===t?(n=":",i=":"):108===t?n=":":114===t&&(i=":");let r=!1===e.alignDelimiters?1:Math.max(1,c[p]-n.length-i.length),s=n+"-".repeat(r)+i;!1!==e.alignDelimiters&&((r=n.length+r+i.length)>c[p]&&(c[p]=r),v[p]=r),m[p]=s}l.splice(1,0,m),u.splice(1,0,v),f=-1;let g=[];for(;++f<l.length;){let t=l[f],n=u[f];p=-1;let i=[];for(;++p<h;){let r=t[p]||"",s="",o="";if(!1!==e.alignDelimiters){let t=c[p]-(n[p]||0),e=a[p];114===e?s=" ".repeat(t):99===e?t%2?(s=" ".repeat(t/2+.5),o=" ".repeat(t/2-.5)):o=s=" ".repeat(t/2):o=" ".repeat(t)}!1===e.delimiterStart||p||i.push("|"),!1!==e.padding&&!(!1===e.alignDelimiters&&""===r)&&(!1!==e.delimiterStart||p)&&i.push(" "),!1!==e.alignDelimiters&&i.push(s),i.push(r),!1!==e.alignDelimiters&&i.push(o),!1!==e.padding&&i.push(" "),(!1!==e.delimiterEnd||p!==h-1)&&i.push("|")}g.push(!1===e.delimiterEnd?i.join("").replace(/ +$/,""):i.join(""))}return g.join("\n")}function r(t){return t.length}function s(t){let e="string"==typeof t?t.codePointAt(0):0;return 67===e||99===e?99:76===e||108===e?108:82===e||114===e?114:0}n.d(e,{Q:()=>i})},79244:(t,e,n)=>{"use strict";n.d(e,{CG:()=>s});let i=/^[| -]+$/;class r{constructor(t,e){this.headers=t,this.rows=e}}function s(t){let e=[...t.split("\n")].map(t=>t.trim());if(""===e[0]&&e.shift(),""===e[e.length-1]&&e.pop(),0===e.length)throw SyntaxError("Text is empty");let n=e[0].split("|").map(t=>t.trim()),s=""===n[0],o=""===n[n.length-1];return s&&n.shift(),o&&n.pop(),new r(n,function*(t,e){let{leftBound:n,rightBound:r}=e;for(let e of t){let t=e.trim();if(i.test(t))continue;let s=t.split("|").map(t=>t.trim());if(n&&""!==s.shift())throw SyntaxError("Inconsistent left bound");if(r&&""!==s.pop())throw SyntaxError("Inconsistent right bound");yield s}}(e.slice(1),{leftBound:s,rightBound:o}))}}}]);